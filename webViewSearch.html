<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8">
        <title>我是头标签</title>
        <script  type="text/javascript">
        // JS给OC发送消息
        function js2oc1() {
            window.webkit.messageHandlers.noParamsFunction.postMessage('我是js方法传过来的数据');
        }
        function js2oc2(x,y) {
            window.webkit.messageHandlers.haveParamsFunction.postMessage({name:x,age:y});
        }
    
        // oc点击事件调用该函数
      /*
      function oc2js1() {
            alert("OC调用js方法 - 无参");
            document.getElementById("labelId").innerHTML = "oc按钮调用了js方法 - 无参";
        }
        function oc2js2(a,b) {
            alert("OC调用js方法 - 有参");
            document.getElementById("labelId").innerHTML = "oc按钮调用了js方法 - 参数："+a+b;
        }
        */
        
        var MyApp_SearchResultCount = 0;

            var MyApp_SearchResults = [];

            var MyApp_selectSpan;

            var MyApp_SwitchIndex = 0;

            //根据关键字查找

            function MyApp_HighlightAllOccurencesOfStringForElement(element,keyword) {

                var oTextNode = document.createTextNode(element);
                var oReplaceNode = oItem1.firstChild.replaceNode(oTextNode);
                
                    if (element) {
                    if (element.nodeType == 3) {        // Text node
                        while (true) {
                            //if (counter < 1) {
                            var value = element.nodeValue;  // Search for keyword in text node
                            var idx = value.toLowerCase().indexOf(keyword);
 
                    if (idx < 0) break;             // not found, abort
 
                //(value.split);
 
                //we create a SPAN element for every parts of matched keywords
                var span = document.createElement("span");
                var text = document.createTextNode(value.substr(idx,keyword.length));
                span.appendChild(text);
 
                span.setAttribute("class","uiWebviewHighlight");
                span.style.backgroundColor="yellow";
                span.style.color="black";
 
                uiWebview_SearchResultCount++;    // update the counter
 
                text = document.createTextNode(value.substr(idx+keyword.length));
                element.deleteData(idx, value.length - idx);
                var next = element.nextSibling;
                element.parentNode.insertBefore(span, next);
                element.parentNode.insertBefore(text, next);
                element = text;
                window.scrollTo(0,span.offsetTop);
 
            }
        } else if (element.nodeType == 1) { // Element node
            if (element.style.display != "none" && element.nodeName.toLowerCase() != 'select') {
                for (var i=element.childNodes.length-1; i>=0; i--) {
                    uiWebview_HighlightAllOccurencesOfStringForElement(element.childNodes[i],keyword);
                }
            }
        }
    }
            }

        
        </script>
    </head>
    <body>
        <h2>是H5按钮</h2>
        <button type="button" style="width:230pt;height:80pt;font-size:20pt" onclick="js2oc1()">js调用oc的按钮1</button>
        <button type="button" style="width:230pt;height:80pt;font-size:20pt" onclick="js2oc2('Gavin','18')">js调用oc的按钮2</button>
<!--    用于显示oc点击事件的结果    -->
        <h1 id=labelId>label</h1>
    </body>
</html>
